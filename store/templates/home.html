{% extends "base.html" %}
{% load static %}

{% block content %}

<div class="responsive-background text-center text-light d-flex flex-column justify-content-center align-items-center p-5 w-100">
  <h1 class="neon-text">We are the Autonoms</h1>
  <p class="lead">We are a bunch of passionate beings who are striving to provide and create the best products and trends for Humans not just in clothes but also accessories and gadgets. Look through our products and select any. Happy Shopping Humans.</p>
  <a class="btn btn-warning mt-3" href="{% url 'about' %}">Learn more About us</a>
</div>
<br>

<div class="container mt-4">


  <!-- Products Carousel -->
  <h2 class="text-center neon-text mb-4">Featured Products</h2>
  <div id="productsCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">

  {% for product in products %}
    {% if forloop.counter0|divisibleby:3 %}
    <!-- Start of new slide every 3 products -->
    <div class="carousel-item {% if forloop.first %}active{% endif %}">
      <div class="row justify-content-center">
    {% endif %}

        <div class="col-md-4">
          <div class="card bg-dark text-light shadow-lg h-100" style="border-radius: 15px;">
            {% if product.image %}
              <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}" style="height:180px; object-fit:cover; border-radius:15px 15px 0 0;">
            {% else %}
              <img src="{% static 'images/placeholder.jpg' %}" class="card-img-top" alt="{{ product.name }}">
            {% endif %}
            <div class="card-body text-center">
              <h5 class="card-title">{{ product.name }}</h5>
              <p class="card-text">₹{{ product.price }}</p>
              <a href="{% url 'product_detail' product.id %}" class="btn btn-warning btn-sm w-100">View Details</a>
            </div>
          </div>
        </div>

    {% if forloop.counter|divisibleby:3 or forloop.last %}
      </div>
    </div>
    {% endif %}
  {% endfor %}

</div>

    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#productsCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#productsCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>

  <!-- Shop by Category -->
  <h2 class="text-center neon-text mt-5" id="categ">Category</h2>
  <div class="row g-4">
    {% for category in categories %}
    <div class="col-md-4">
      <div class="card bg-dark text-light shadow-lg h-100" style="border-radius:15px;">
        {% if category.image %}
          <img src="{{ category.image.url }}" class="card-img-top" alt="{{ category.name }}" style="height:200px; object-fit:cover; border-radius:15px 15px 0 0;">
        {% else %}
          <img src="{% static 'images/placeholder.jpg' %}" class="card-img-top" alt="{{ category.name }}">
        {% endif %}
        <div class="card-body text-center">
          <h5 class="card-title">{{ category.name }}</h5>
          <a href="{% url 'category_products' category.id %}" class="btn btn-warning btn-sm w-100">View Products</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% block extra_css %}
<style>
      .responsive-background {
        background-image: url('https://images.steamusercontent.com/ugc/2058741574591788654/F120CE151537EBA81555142DA32A499D907A9F48/');
        background-size: cover; 
        background-repeat: no-repeat; 
        background-position: center center; 
        min-height: 60vh;
        width: 100%;
    }
    .carousel-control-prev,
    .carousel-control-next {
      top: 50%;
      transform: translateY(-50%);
      width: 5%; /* make arrows less wide so they don’t overlap cards */
    }
</style>
{% endblock %}
{% endblock %}